<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>NYC Taxi Fare Predictor</title>




        <!-- css -->
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/choices.js/10.2.0/choices.css" integrity="sha512-uXn0jS70Olm5/kbgdAfBygyDVfYyCrsnBLmb1zBXAOGZVErN3WsWOXrqRyaNvXETZwi6L9X8lZJ1MtPjwMJU/g==" crossorigin="anonymous" referrerpolicy="no-referrer" />



        <!--Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/boosted/5.2.3/js/boosted.bundle.min.js" integrity="sha512-NCGrwJhPe7Df2eCPozXBFauqo2ybBtQ4AetT1GHiRCWOet5AfVJBYcNTUc0NYIGJK8xVVLZNTl9joZnLyEWJJQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js" integrity="sha512-1/RvZTcCDEUjY/CypiMz+iqqtaoQfAITmNSJY17Myp4Ms5mdxPS5UV7iOfdZoxcGhzFbOm6sntTKJppjvuhg4g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/choices.js/10.2.0/choices.min.js" integrity="sha512-OrRY3yVhfDckdPBIjU2/VXGGDjq3GPcnILWTT39iYiuV6O3cEcAxkgCBVR49viQ99vBFeu+a6/AoFAkNHgFteg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


        <!--FontAwesome-->
        <script src="https://kit.fontawesome.com/76c40a5f57.js" crossorigin="anonymous"></script>
        <link href="https://pro.fontawesome.com/releases/v5.1.0/css/all.css" rel=" stylesheet">
    </head>

    <body>
        <!-- fare_amount(x) ~ [year, hour, distance, passenger_count] -->

        <div class="wrapper flexc">
            <div class="container">
                <h1>Nyc Taxi Fare Predictor</h1>
                <div class="msg_section ">
                    Error: Enter valid Pickup Location
                </div>
                <div class="taxi_det_form flexc">
                    <div class="input_con psgName_inp" style="width: 100%;">
                        <div class="label_text">Name</div>
                        <input type="text" name="" class="form-control">
                    </div>

                    <div class="input_con psgCount_inp" style="width: 100%;">
                        <div class="label_text">Passenger Count</div>
                        <input type="number" name="" id="" min="1" max="5" class="form-control">
                    </div>

                    <div class="input_con pickup_inp">
                        <div class="label_text">Pickup Location</div>


                        <!-- AUTO COMPLETE DROPDOWN -->
                        <select class="selectpicker form-control border-0 mb-1 px-4 py-4 rounded shadow">
                            <option value="">...</option>
                            <option value="Ultrasound Knee Right">Ultrasound Knee Right</option>
                            <option value="Ultrasound Knee Left">Ultrasound Knee Left</option>
                            <option value="MRI Knee Right">MRI Knee Right</option>
                            <option value="MRI Knee Left">MRI Knee Left</option>
                            <option value="MRI Forearm/Elbow Right">MRI Forearm/Elbow Right</option>
                            <option value="MRI Forearm/Elbow Left">MRI Forearm/Elbow Left</option>
                            <option value="CT Knee Right">CT Knee Right</option>
                            <option value="CT Knee Left">CT Knee Left</option>
                        </select>
                    </div>

                    <div class="input_con dropoff_inp">
                        <div class="label_text">Dropoff Location</div>


                        <!-- AUTO COMPLETE DROPDOWN -->
                        <select class="selectpicker form-control border-0 mb-1 px-4 py-4 rounded shadow">
                            <option value="">...</option>
                            <option value="Ultrasound Knee Right">Ultrasound Knee Right</option>
                            <option value="Ultrasound Knee Left">Ultrasound Knee Left</option>
                            <option value="MRI Knee Right">MRI Knee Right</option>
                            <option value="MRI Knee Left">MRI Knee Left</option>
                            <option value="MRI Forearm/Elbow Right">MRI Forearm/Elbow Right</option>
                            <option value="MRI Forearm/Elbow Left">MRI Forearm/Elbow Left</option>
                            <option value="CT Knee Right">CT Knee Right</option>
                            <option value="CT Knee Left">CT Knee Left</option>
                        </select>
                    </div>

                    <button class="predict_btn">Predict</button>

                </div>




                <div class="model_container">
                    <div class="ticket_wrap flexc">

                        <div class="ticket_header">NYC TAXI Ticket</div>

                        <div class="ticket_con">
                            <div class="ticket_conLeft">
                                <div class="ticket_content flexc">
                                    <div class="psg_info info_pickupLoc">
                                        <div class="title">pickup Location</div>
                                        <div class="subtitle"><span class="pickup_data">NYC City</span></div>
                                    </div>

                                    <div class="arrow_icn flexc"><i class="far fa-long-arrow-right"></i></div>

                                    <div class="psg_info info_pickupLoc">
                                        <div class="title">dropoff Location</div>
                                        <div class="subtitle"><span class="dropoff_data">Downtown</span></div>
                                    </div>
                                </div>
                            </div>
                            <div class="ticket_conRight">
                                <div class="cutoff_line"></div>
                                <div class="dots dot_left"></div>
                                <div class="dots dot_right"></div>

                                <div class="ticket_info flexc">
                                    <div class="psg_info info_pname">
                                        <div class="title">name</div>
                                        <div class="subtitle"><span class="psgName_data">Debjeet Das</span></div>
                                    </div>


                                    <div class="psg_info info_pcount">
                                        <div class="title">passenger count</div>
                                        <div class="subtitle"><span class="psgCnt_data">1</span></div>
                                    </div>

                                    <div class="psg_info info_pfare">
                                        <div class="title">Fare</div>
                                        <div class="subtitle">$ <span class="fare_data">10</span></div>
                                    </div>

                                    <div class="psg_info info_time">
                                        <div class="subtitle"><span class="timeStamp_data">JUN-28-2017 AT 08:30 AM</span></div>
                                    </div>



                                    <div class="barcode_info">
                                        <span class="tckCode_data">102108X</span>
                                    </div>

                                </div>

                                <div class="ticket_miniInfo flexc">
                                    <div class="miniInfo_left">
                                        <div class="barcode_info">
                                            <span class="tckCode_data">102108X</span>
                                        </div>
                                    </div>

                                    <div class="miniInfo_right">
                                        <div class="miniInfo_pname">#<span class="psgCnt_data">1</span> <span class="psgName_data">Debjeet Das</span></div>
                                        <div class="miniInfo_des"><span class="pickup_data">NYC City</span> <i class="far fa-long-arrow-right"></i> <span class="dropoff_data">Downtown</span></div>

                                        <div class="miniInfo_time"><span class="timeStamp_data">JUN-28-2017 AT 08:30 AM</span></div>
                                    </div>

                                    <div class="stamp">confirmed
                                        <div class="stamp_subTitle">Taxi and Limousine Commission</div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                </div>




            </div>



        </div>



        <script>
            const elmens = document.querySelectorAll('.selectpicker');
            elmens.forEach((sorting) => {
                const sortingchoices = new Choices(sorting, {
                    placeholder: false,
                    itemSelectText: ''
                });


                // Trick to apply your custom classes to generated dropdown menu
                let sortingClass = sorting.getAttribute('class');
                window.onload = function () {
                    sorting.parentElement.setAttribute('class', sortingClass);
                }

            })


            // time ---
            // JAN-28-2023 AT 08:30 AM

            var genTimeStamp = () => {
                month_names_short = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']

                var dt = new Date()

                var day = dt.getDay()
                if (day < 10) {
                    day = '0' + day;
                }

                var month = dt.getMonth()
                month = month_names_short[month].toUpperCase()

                var year = dt.getFullYear()

                var time = dt.toLocaleString('en-US', {
                    hour: 'numeric',
                    minute: 'numeric',
                    hour12: true
                })

                var timeStamp = month + "-" + day + "-" + year + " AT " + time

                return timeStamp
            }

            // random number gen for barcode
            // 102108X

            var generateString = (length) => {
                const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                let result = '';
                const charactersLength = characters.length;
                for (let i = 0; i < length; i++) {
                    result += characters.charAt(Math.floor(Math.random() * charactersLength));
                }
                return result;
            }

            $(".predict_btn").click(() => {
                // inputs ---
                var passenger_name = $(".psgName_inp>input").val()
                var passenger_count = $(".psgCount_inp>input").val()

                var pickup_inp = $('.pickup_inp').find(":selected").text()
                var dropoff_inp = $('.dropoff_inp').find(":selected").text()

                var msg_diplay = (msg) => {
                    $(".msg_section").css("visibility", "visible").text(msg)
                }


                if (passenger_name == "") {
                    msg_diplay("Error: Enter valid Name")
                } else if (passenger_count == "" || passenger_count == null) {
                    msg_diplay("Error: Enter valid Passenger Count")
                } else if (passenger_count <= 0) {
                    msg_diplay("Error: Count should be MIN = 1")
                } else if (passenger_count > 5) {
                    msg_diplay("Error: Count should be MAX = 5")
                } else if (pickup_inp == "...") {
                    msg_diplay("Error: Enter valid Pickup Location")
                } else if (dropoff_inp == "...") {
                    msg_diplay("Error: Enter valid Dropoff Location")
                } else {
                    $(".msg_section").css("visibility", "visible").text("")

                    var fare = 0

                    $(".model_container").css("visibility", "visible")
                    $(".tckCode_data").text(generateString(7))
                    $(".psgName_data").text(passenger_name)
                    $(".psgCnt_data").text(passenger_count)
                    $(".pickup_data").text(pickup_inp)
                    $(".dropoff_data").text(dropoff_inp)
                    $(".timeStamp_data").text(genTimeStamp())

                    $(".fare_data").text(fare)
                }

            })

        </script>
    </body>

</html>
